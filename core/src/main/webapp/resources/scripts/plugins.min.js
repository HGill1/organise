if(jQuery){(function(a){a.extend(a.fn,{selectBox:function(j,l){var i,k="",w=navigator.platform.match(/mac/i);var g=function(J,E){var G;if(navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)){return false}if(J.tagName.toLowerCase()!=="select"){return false}J=a(J);if(J.data("selectBox-control")){return false}var K=a('<a class="selectBox" />'),I=J.attr("multiple")||parseInt(J.attr("size"))>1;var L=E||{};K.addClass(J.attr("class")).attr("title",J.attr("title")||"").attr("tabindex",parseInt(J.attr("tabindex"))).css("display","inline-block").bind("focus.selectBox",function(){if(this!==document.activeElement&&document.body!==document.activeElement){a(document.activeElement).blur()}if(K.hasClass("selectBox-active")){return}K.addClass("selectBox-active");J.trigger("focus")}).bind("blur.selectBox",function(){if(!K.hasClass("selectBox-active")){return}K.removeClass("selectBox-active");J.trigger("blur")});if(!a(window).data("selectBox-bindings")){a(window).data("selectBox-bindings",true).bind("scroll.selectBox",A).bind("resize.selectBox",A)}if(J.attr("disabled")){K.addClass("selectBox-disabled")}J.bind("click.selectBox",function(N){K.focus();N.preventDefault()});if(I){G=m(J,"inline");K.append(G).data("selectBox-options",G).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(N){n(J,N)}).bind("keypress.selectBox",function(N){z(J,N)}).bind("mousedown.selectBox",function(N){if(a(N.target).is("A.selectBox-inline")){N.preventDefault()}if(!K.hasClass("selectBox-focus")){K.focus()}}).insertBefore(J);if(!J[0].style.height){var D=J.attr("size")?parseInt(J.attr("size")):5;var M=K.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");M.find(".selectBox-options").html("<li><a>\u00A0</a></li>");var F=parseInt(M.find(".selectBox-options A:first").html("Â ").outerHeight());M.remove();K.height(F*D)}y(K)}else{var C=a('<span class="selectBox-label" />'),B=a('<span class="selectBox-arrow" />');C.attr("class",o(J)).text(e(J));G=m(J,"dropdown");G.appendTo("BODY");K.data("selectBox-options",G).addClass("selectBox-dropdown").append(C).append(B).bind("mousedown.selectBox",function(N){if(K.hasClass("selectBox-menuShowing")){A()}else{N.stopPropagation();G.data("selectBox-down-at-x",N.screenX).data("selectBox-down-at-y",N.screenY);t(J)}}).bind("keydown.selectBox",function(N){n(J,N)}).bind("keypress.selectBox",function(N){z(J,N)}).bind("open.selectBox",function(O,N){if(N&&N._selectBox===true){return}t(J)}).bind("close.selectBox",function(O,N){if(N&&N._selectBox===true){return}A()}).insertBefore(J);var H=K.width()-27;C.width(H);y(K)}J.addClass("selectBox selectBoxHide").data("selectBox-control",K).data("selectBox-settings",L)};var m=function(F,D){var C;var G=function(I,H){I.children("OPTION, OPTGROUP").each(function(){if(a(this).is("OPTION")){if(a(this).length>0){s(a(this),H)}else{H.append("<li>\u00A0</li>")}}else{var J=a('<li class="selectBox-optgroup" />');J.text(a(this).attr("label"));H.append(J);H=G(a(this),H)}});return H};switch(D){case"inline":C=a('<ul class="selectBox-options" />');C=G(F,C);C.find("A").bind("mouseover.selectBox",function(H){p(F,a(this).parent())}).bind("mouseout.selectBox",function(H){f(F,a(this).parent())}).bind("mousedown.selectBox",function(H){H.preventDefault();if(!F.selectBox("control").hasClass("selectBox-active")){F.selectBox("control").focus()}}).bind("mouseup.selectBox",function(H){A();q(F,a(this).parent(),H)});y(C);return C;case"dropdown":C=a('<ul class="selectBox-dropdown-menu selectBox-options" />');C=G(F,C);C.data("selectBox-select",F).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",function(H){H.preventDefault();if(H.screenX===C.data("selectBox-down-at-x")&&H.screenY===C.data("selectBox-down-at-y")){C.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y");A()}}).bind("mouseup.selectBox",function(H){if(H.screenX===C.data("selectBox-down-at-x")&&H.screenY===C.data("selectBox-down-at-y")){return}else{C.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y")}q(F,a(this).parent());A()}).bind("mouseover.selectBox",function(H){p(F,a(this).parent())}).bind("mouseout.selectBox",function(H){f(F,a(this).parent())});var B=F.attr("class")||"";if(B!==""){B=B.split(" ");for(var E in B){C.addClass(B[E]+"-selectBox-dropdown-menu")}}y(C);return C}};var o=function(C){var B=a(C).find("OPTION:selected");return("selectBox-label "+(B.attr("class")||"")).replace(/\s+$/,"")};var e=function(C){var B=a(C).find("OPTION:selected");return B.text()||"\u00A0"};var v=function(C){C=a(C);var B=C.data("selectBox-control");if(!B){return}B.find(".selectBox-label").attr("class",o(C)).text(e(C))};var x=function(B){B=a(B);var C=B.data("selectBox-control");if(!C){return}var D=C.data("selectBox-options");D.remove();C.remove();B.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show()};var c=function(B){B=a(B);B.selectBox("options",B.html())};var t=function(G){G=a(G);var H=G.data("selectBox-control"),C=G.data("selectBox-settings"),D=H.data("selectBox-options");if(H.hasClass("selectBox-disabled")){return false}A();var F=isNaN(H.css("borderBottomWidth"))?0:parseInt(H.css("borderBottomWidth"));D.width(H.innerWidth()).css({top:H.offset().top+H.outerHeight()-F,left:H.offset().left});if(G.triggerHandler("beforeopen")){return false}var B=function(){G.triggerHandler("open",{_selectBox:true})};switch(C.menuTransition){case"fade":D.fadeIn(C.menuSpeed,B);break;case"slide":D.slideDown(C.menuSpeed,B);break;default:D.show(C.menuSpeed,B);break}if(!C.menuSpeed){B()}var E=D.find(".selectBox-selected:first");r(G,E,true);p(G,E);H.addClass("selectBox-menuShowing");a(document).bind("mousedown.selectBox",function(I){if(a(I.target).parents().andSelf().hasClass("selectBox-options")){return}A()})};var A=function(){if(a(".selectBox-dropdown-menu:visible").length===0){return}a(document).unbind("mousedown.selectBox");a(".selectBox-dropdown-menu").each(function(){var E=a(this),B=E.data("selectBox-select"),D=B.data("selectBox-control"),C=B.data("selectBox-settings");if(B.triggerHandler("beforeclose")){return false}var F=function(){B.triggerHandler("close",{_selectBox:true})};if(C){switch(C.menuTransition){case"fade":E.fadeOut(C.menuSpeed,F);break;case"slide":E.slideUp(C.menuSpeed,F);break;default:E.hide(C.menuSpeed,F);break}if(!C.menuSpeed){F()}D.removeClass("selectBox-menuShowing")}else{a(this).hide();a(this).triggerHandler("close",{_selectBox:true});a(this).removeClass("selectBox-menuShowing")}})};var q=function(H,B,C){H=a(H);B=a(B);var I=H.data("selectBox-control"),E=H.data("selectBox-settings");if(I.hasClass("selectBox-disabled")){return false}if(B.length===0||B.hasClass("selectBox-disabled")){return false}if(H.attr("multiple")){if(C.shiftKey&&I.data("selectBox-last-selected")){B.toggleClass("selectBox-selected");var D;if(B.index()>I.data("selectBox-last-selected").index()){D=B.siblings().slice(I.data("selectBox-last-selected").index(),B.index())}else{D=B.siblings().slice(B.index(),I.data("selectBox-last-selected").index())}D=D.not(".selectBox-optgroup, .selectBox-disabled");if(B.hasClass("selectBox-selected")){D.addClass("selectBox-selected")}else{D.removeClass("selectBox-selected")}}else{if((w&&C.metaKey)||(!w&&C.ctrlKey)){B.toggleClass("selectBox-selected")}else{B.siblings().removeClass("selectBox-selected");B.addClass("selectBox-selected")}}}else{B.siblings().removeClass("selectBox-selected");B.addClass("selectBox-selected")}if(I.hasClass("selectBox-dropdown")){I.find(".selectBox-label").text(B.text())}var G=0,F=[];if(H.attr("multiple")){I.find(".selectBox-selected A").each(function(){F[G++]=a(this).attr("rel")})}else{F=B.find("A").attr("rel")}I.data("selectBox-last-selected",B);if(H.val()!==F){H.val(F);v(H);H.trigger("change")}return true};var p=function(B,C){B=a(B);C=a(C);var D=B.data("selectBox-control"),E=D.data("selectBox-options");E.find(".selectBox-hover").removeClass("selectBox-hover");C.addClass("selectBox-hover")};var f=function(B,C){B=a(B);C=a(C);var D=B.data("selectBox-control"),E=D.data("selectBox-options");E.find(".selectBox-hover").removeClass("selectBox-hover")};var r=function(H,B,F){if(!B||B.length===0){return}H=a(H);var I=H.data("selectBox-control"),E=I.data("selectBox-options"),C=I.hasClass("selectBox-dropdown")?E:E.parent(),G=parseInt(B.offset().top-C.position().top),D=parseInt(G+B.outerHeight());if(F){C.scrollTop(B.offset().top-C.offset().top+C.scrollTop()-(C.height()/2))}else{if(G<0){C.scrollTop(B.offset().top-C.offset().top+C.scrollTop())}if(D>C.height()){C.scrollTop((B.offset().top+B.outerHeight())-C.offset().top+C.scrollTop()-C.height())}}};var n=function(H,B){H=a(H);var I=H.data("selectBox-control"),D=I.data("selectBox-options"),C=H.data("selectBox-settings"),J=0,G=0;if(I.hasClass("selectBox-disabled")){return}switch(B.keyCode){case 8:B.preventDefault();k="";break;case 9:case 27:A();f(H);break;case 13:if(I.hasClass("selectBox-menuShowing")){q(H,D.find("LI.selectBox-hover:first"),B);if(I.hasClass("selectBox-dropdown")){A()}}else{t(H)}break;case 38:case 37:B.preventDefault();if(I.hasClass("selectBox-menuShowing")){var F=D.find(".selectBox-hover").prev("LI");J=D.find("LI:not(.selectBox-optgroup)").length;G=0;while(F.length===0||F.hasClass("selectBox-disabled")||F.hasClass("selectBox-optgroup")){F=F.prev("LI");if(F.length===0){if(C.loopOptions){F=D.find("LI:last")}else{F=D.find("LI:first")}}if(++G>=J){break}}p(H,F);q(H,F,B);r(H,F)}else{t(H)}break;case 40:case 39:B.preventDefault();if(I.hasClass("selectBox-menuShowing")){var E=D.find(".selectBox-hover").next("LI");J=D.find("LI:not(.selectBox-optgroup)").length;G=0;while(E.length===0||E.hasClass("selectBox-disabled")||E.hasClass("selectBox-optgroup")){E=E.next("LI");if(E.length===0){if(C.loopOptions){E=D.find("LI:first")}else{E=D.find("LI:last")}}if(++G>=J){break}}p(H,E);q(H,E,B);r(H,E)}else{t(H)}break}};var z=function(B,C){B=a(B);var D=B.data("selectBox-control"),E=D.data("selectBox-options");if(D.hasClass("selectBox-disabled")){return}switch(C.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:if(!D.hasClass("selectBox-menuShowing")){t(B)}C.preventDefault();clearTimeout(i);k+=String.fromCharCode(C.charCode||C.keyCode);E.find("A").each(function(){if(a(this).text().substr(0,k.length).toLowerCase()===k.toLowerCase()){p(B,a(this).parent());r(B,a(this).parent());return false}});i=setTimeout(function(){k=""},1000);break}};var u=function(C){C=a(C);C.attr("disabled",false);var B=C.data("selectBox-control");if(!B){return}B.removeClass("selectBox-disabled")};var h=function(C){C=a(C);C.attr("disabled",true);var B=C.data("selectBox-control");if(!B){return}B.addClass("selectBox-disabled")};var b=function(B,F){B=a(B);B.val(F);F=B.val();if(F===null){F=B.children().first().val();B.val(F)}var D=B.data("selectBox-control");if(!D){return}var C=B.data("selectBox-settings"),E=D.data("selectBox-options");v(B);E.find(".selectBox-selected").removeClass("selectBox-selected");E.find("A").each(function(){if(typeof(F)==="object"){for(var G=0;G<F.length;G++){if(a(this).attr("rel")==F[G]){a(this).parent().addClass("selectBox-selected")}}}else{if(a(this).attr("rel")==F){a(this).parent().addClass("selectBox-selected")}}});if(C.change){C.change.call(B)}};var d=function(I,D){I=a(I);var J=I.data("selectBox-control"),C=I.data("selectBox-settings");switch(typeof(l)){case"string":I.html(l);break;case"object":I.html("");for(var H in l){if(l[H]===null){continue}if(typeof(l[H])==="object"){var B=a('<optgroup label="'+H+'" />');for(var E in l[H]){B.append('<option value="'+E+'">'+l[H][E]+"</option>")}I.append(B)}else{var F=a('<option value="'+H+'">'+l[H]+"</option>");I.append(F)}}break}if(!J){return}J.data("selectBox-options").remove();var G=J.hasClass("selectBox-dropdown")?"dropdown":"inline";D=m(I,G);J.data("selectBox-options",D);switch(G){case"inline":J.append(D);break;case"dropdown":v(I);a("BODY").append(D);break}};var y=function(B){a(B).css("MozUserSelect","none").bind("selectstart",function(C){C.preventDefault()})};var s=function(C,E){var B=a("<li />"),D=a("<a />");B.addClass(C.attr("class"));B.data(C.data());D.attr("rel",C.val()).text(C.text());B.append(D);if(C.attr("disabled")){B.addClass("selectBox-disabled")}if(C.attr("selected")){B.addClass("selectBox-selected")}E.append(B)};switch(j){case"control":return a(this).data("selectBox-control");case"settings":if(!l){return a(this).data("selectBox-settings")}a(this).each(function(){a(this).data("selectBox-settings",a.extend(true,a(this).data("selectBox-settings"),l))});break;case"options":if(l===undefined){return a(this).data("selectBox-control").data("selectBox-options")}a(this).each(function(){d(this,l)});break;case"value":if(l===undefined){return a(this).val()}a(this).each(function(){b(this,l)});break;case"refresh":a(this).each(function(){c(this)});break;case"enable":a(this).each(function(){u(this)});break;case"disable":a(this).each(function(){h(this)});break;case"destroy":a(this).each(function(){x(this)});break;default:a(this).each(function(){g(this,j)});break}return a(this)}})})(jQuery)}(function(a){a.extend(a.fn,{validate:function(c){if(!this.length){if(c&&c.debug&&window.console){console.warn("nothing selected, can't validate, returning nothing")}return}var b=a.data(this[0],"validator");if(b){return b}this.attr("novalidate","novalidate");b=new a.validator(c,this[0]);a.data(this[0],"validator",b);if(b.settings.onsubmit){this.validateDelegate(":submit","click",function(d){if(b.settings.submitHandler){b.submitButton=d.target}if(a(d.target).hasClass("cancel")){b.cancelSubmit=true}});this.submit(function(d){if(b.settings.debug){d.preventDefault()}function e(){var f;if(b.settings.submitHandler){if(b.submitButton){f=a("<input type='hidden'/>").attr("name",b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm)}b.settings.submitHandler.call(b,b.currentForm,d);if(b.submitButton){f.remove()}return false}return true}if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c&=b.element(this)});return c}},removeAttrs:function(b){var c={},d=this;a.each(b.split(/\s/),function(f,e){c[e]=d.attr(e);d.removeAttr(e)});return c},rules:function(g,i){var d=this[0];if(g){var e=a.data(d.form,"validator").settings;var c=e.rules;var h=a.validator.staticRules(d);switch(g){case"add":a.extend(h,a.validator.normalizeRule(i));c[d.name]=h;if(i.messages){e.messages[d.name]=a.extend(e.messages[d.name],i.messages)}break;case"remove":if(!i){delete c[d.name];return h}var j={};a.each(i.split(/\s/),function(l,k){j[k]=h[k];delete h[k]});return j}}var b=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(b.required){var f=b.required;delete b.required;b=a.extend({required:f},b)}return b}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(c,b){this.settings=a.extend(true,{},a.validator.defaults,c);this.currentForm=b;this.init()};a.validator.format=function(c,b){if(arguments.length===1){return function(){var d=a.makeArray(arguments);d.unshift(c);return a.validator.format.apply(this,d)}}if(arguments.length>2&&b.constructor!==Array){b=a.makeArray(arguments).slice(1)}if(b.constructor!==Array){b=[b]}a.each(b,function(d,e){c=c.replace(new RegExp("\\{"+d+"\\}","g"),e)});return c};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(c,b){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,c,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(c)).hide()}},onfocusout:function(c,b){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c))){this.element(c)}},onkeyup:function(c,b){if(b.which==9&&this.elementValue(c)===""){return}else{if(c.name in this.submitted||c===this.lastActive){this.element(c)}}},onclick:function(c,b){if(c.name in this.submitted){this.element(c)}else{if(c.parentNode.name in this.submitted){this.element(c.parentNode)}}},highlight:function(b,d,c){if(b.type==="radio"){this.findByName(b.name).addClass(d).removeClass(c)}else{a(b).addClass(d).removeClass(c)}},unhighlight:function(b,d,c){if(b.type==="radio"){this.findByName(b.name).removeClass(d).addClass(c)}else{a(b).removeClass(d).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(f,e){a.each(e.split(/\s/),function(h,g){b[g]=f})});var c=this.settings.rules;a.each(c,function(f,e){c[f]=a.validator.normalizeRule(e)});function d(f){var e=a.data(this[0].form,"validator"),g="on"+f.type.replace(/^validate/,"");if(e.settings[g]){e.settings[g].call(e,this[0],f)}}a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c)!==false;if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var b=0;for(var c in d){b++}return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name===b.name}).length===1&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&b.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in c||!b.objectLength(a(this).rules())){return false}c[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();if(c==="radio"||c==="checkbox"){return a('input[name="'+a(b).attr("name")+'"]:checked').val()}if(typeof d==="string"){return d.replace(/\r/g,"")}return d},check:function(g){g=this.validationTargetFor(this.clean(g));var i=a(g).rules();var j=false;var b=this.elementValue(g);var d;for(var h in i){var c={method:h,parameters:i[h]};try{d=a.validator.methods[h].call(this,b,g,c.parameters);if(d==="dependency-mismatch"){j=true;continue}j=false;if(d==="pending"){this.toHide=this.toHide.not(this.errorsFor(g));return}if(!d){this.formatAndAdd(g,c);return false}}catch(f){if(this.settings.debug&&window.console){console.log("exception occured when checking element "+g.id+", check the '"+c.method+"' method",f)}throw f}}if(j){return}if(this.objectLength(i)){this.successList.push(g)}return true},customMetaMessage:function(b,c){if(!a.metadata){return}var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]},customDataMessage:function(c,b){return a(c).data("msg-"+b.toLowerCase())||(c.attributes&&a(c).attr("data-msg-"+b.toLowerCase()))},customMessage:function(d,c){var b=this.settings.messages[d];return b&&(b.constructor===String?b:b[c])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(c,b){return this.findDefined(this.customMessage(c.name,b),this.customDataMessage(c,b),this.customMetaMessage(c,b),!this.settings.ignoreTitle&&c.title||undefined,a.validator.messages[b],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;if(typeof d==="function"){d=d.call(this,c.parameters,b)}else{if(e.test(d)){d=a.validator.format(d.replace(e,"{$1}"),c.parameters)}}this.errorList.push({message:d,element:b});this.errorMap[b.name]=d;this.submitted[b.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){var c,d;for(c=0;this.errorList[c];c++){var b=this.errorList[c];if(this.settings.highlight){this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);if(d.attr("generated")){d.html(c)}}else{d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:true}).addClass(this.settings.errorClass).html(c||"");if(this.settings.wrapper){d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(d).length){if(this.settings.errorPlacement){this.settings.errorPlacement(d,a(b))}else{d.insertAfter(b)}}}if(!c&&this.settings.success){d.text("");if(typeof this.settings.success==="string"){d.addClass(this.settings.success)}else{this.settings.success(d,b)}}this.toShow=this.toShow.add(d)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return(/radio|checkbox/i).test(b.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c)){return this.findByName(c.name).filter(":checked").length}}return b.length},depend:function(b,c){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,c):true},dependTypes:{"boolean":function(b,c){return b},string:function(b,c){return !!a(b,c.form).length},"function":function(b,c){return b(c)}},optional:function(c){var b=this.elementValue(c);return !a.validator.methods.required.call(this,b,c)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(c,b){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[c.name];if(b&&this.pendingRequest===0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!b&&this.pendingRequest===0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){if(b.constructor===String){this.classRuleSettings[b]=c}else{a.extend(this.classRuleSettings,b)}},classRules:function(b){var c={};var d=a(b).attr("class");if(d){a.each(d.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(c,a.validator.classRuleSettings[this])}})}return c},attributeRules:function(b){var d={};var e=a(b);for(var c in a.validator.methods){var f;if(c==="required"){f=e.get(0).getAttribute(c);if(f===""){f=true}f=!!f}else{f=e.attr(c)}if(f){d[c]=f}else{if(e[0].getAttribute("type")===c){d[c]=true}}}if(d.maxlength&&/-1|2147483647|524288/.test(d.maxlength)){delete d.maxlength}return d},metadataRules:function(c){if(!a.metadata){return{}}var b=a.data(c.form,"validator").settings.meta;return b?a(c).metadata()[b]:a(c).metadata()},staticRules:function(b){var d={};var c=a.data(b.form,"validator");if(c.settings.rules){d=a.validator.normalizeRule(c.settings.rules[b.name])||{}}return d},normalizeRules:function(b,c){a.each(b,function(e,f){if(f===false){delete b[e];return}if(f.param||f.depends){var d=true;switch(typeof f.depends){case"string":d=!!a(f.depends,c.form).length;break;case"function":d=f.depends.call(c,c);break}if(d){b[e]=f.param!==undefined?f.param:true}else{delete b[e]}}});a.each(b,function(e,d){b[e]=a.isFunction(d)?d(c):d});a.each(["minlength","maxlength","min","max"],function(){if(b[this]){b[this]=Number(b[this])}});a.each(["rangelength","range"],function(){if(b[this]){b[this]=[Number(b[this][0]),Number(b[this][1])]}});if(a.validator.autoCreateRanges){if(b.min&&b.max){b.range=[b.min,b.max];delete b.min;delete b.max}if(b.minlength&&b.maxlength){b.rangelength=[b.minlength,b.maxlength];delete b.minlength;delete b.maxlength}}if(b.messages){delete b.messages}return b},normalizeRule:function(b){if(typeof b==="string"){var c={};a.each(b.split(/\s/),function(){c[this]=true});b=c}return b},addMethod:function(d,c,b){a.validator.methods[d]=c;a.validator.messages[d]=b!==undefined?b:a.validator.messages[d];if(c.length<3){a.validator.addClassRules(d,a.validator.normalizeRule(d))}},methods:{required:function(e,b,d){if(!this.depend(d,b)){return"dependency-mismatch"}if(b.nodeName.toLowerCase()==="select"){var c=a(b).val();return c&&c.length>0}if(this.checkable(b)){return this.getLength(e,b)>0}return a.trim(e).length>0},remote:function(e,b,d){if(this.optional(b)){return"dependency-mismatch"}var g=this.previousValue(b);if(!this.settings.messages[b.name]){this.settings.messages[b.name]={}}g.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=g.message;d=typeof d==="string"&&{url:d}||d;if(this.pending[b.name]){return"pending"}if(g.old===e){return g.valid}g.old=e;var f=this;this.startRequest(b);var c={};c[b.name]=e;a.ajax(a.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:c,success:function(l){f.settings.messages[b.name].remote=g.originalMessage;var h=l===true||l==="true";if(h){var k=f.formSubmitted;f.prepareElement(b);f.formSubmitted=k;f.successList.push(b);delete f.invalid[b.name];f.showErrors()}else{var j={};var i=l||f.defaultMessage(b,"remote");j[b.name]=g.message=a.isFunction(i)?i(e):i;f.invalid[b.name]=true;f.showErrors(j)}g.valid=h;f.stopRequest(b,h)}},d));return"pending"},minlength:function(e,b,d){var c=a.isArray(e)?e.length:this.getLength(a.trim(e),b);return this.optional(b)||c>=d},maxlength:function(e,b,d){var c=a.isArray(e)?e.length:this.getLength(a.trim(e),b);return this.optional(b)||c<=d},rangelength:function(e,b,d){var c=a.isArray(e)?e.length:this.getLength(a.trim(e),b);return this.optional(b)||(c>=d[0]&&c<=d[1])},min:function(d,b,c){return this.optional(b)||d>=c},max:function(d,b,c){return this.optional(b)||d<=c},range:function(d,b,c){return this.optional(b)||(d>=c[0]&&d<=c[1])},email:function(b,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},url:function(b,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(b,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(b))},dateISO:function(b,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(b)},number:function(b,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},digits:function(b,c){return this.optional(c)||/^\d+$/.test(b)},creditcard:function(f,d){if(this.optional(d)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(f)){return false}var c=0,b=0,e=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var g=f.charAt(h);b=parseInt(g,10);if(e){if((b*=2)>9){b-=9}}c+=b;e=!e}return(c%10)===0},equalTo:function(e,b,d){var c=a(d);if(this.settings.onfocusout){c.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()})}return e===c.val()}}});a.format=a.validator.format}(jQuery));(function(a){var c={};if(a.ajaxPrefilter){a.ajaxPrefilter(function(d,g,f){var e=d.port;if(d.mode==="abort"){if(c[e]){c[e].abort()}c[e]=f}})}else{var b=a.ajax;a.ajax=function(d){var e=("mode" in d?d:a.ajaxSettings).mode,f=("port" in d?d:a.ajaxSettings).port;if(e==="abort"){if(c[f]){c[f].abort()}return(c[f]=b.apply(this,arguments))}return b.apply(this,arguments)}}}(jQuery));(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(c,d){a.event.special[d]={setup:function(){this.addEventListener(c,b,true)},teardown:function(){this.removeEventListener(c,b,true)},handler:function(f){var g=arguments;g[0]=a.event.fix(f);g[0].type=d;return a.event.handle.apply(this,g)}};function b(f){f=a.event.fix(f);f.type=d;return a.event.handle.call(this,f)}})}a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(f){var e=a(f.target);if(e.is(d)){return b.apply(e,arguments)}})}})}(jQuery));(function(d,e,g){d.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(a){f(a)});f("focusin","focus"+g);f("focusout","blur"+g);d.addOutsideEvent=f;function f(j,b){b=b||j+g;var a=d(),c=j+"."+b+"-special-event";d.event.special[b]={setup:function(){a=a.add(this);if(a.length===1){d(e).bind(c,i)}},teardown:function(){a=a.not(this);if(a.length===0){d(e).unbind(c)}},add:function(h){var k=h.handler;h.handler=function(m,n){m.target=n;k.apply(this,arguments)}}};function i(h){d(a).each(function(){var k=d(this);if(this!==h.target&&!k.has(h.target).length){k.triggerHandler(b,[h.target])}})}}})(jQuery,document,"outside");jQuery.fn.farbtastic=function(a){$.farbtastic(this,a);return this};jQuery.farbtastic=function(b,a){var b=$(b).get(0);return b.farbtastic||(b.farbtastic=new jQuery._farbtastic(b,a))};jQuery._farbtastic=function(b,d){var c=this;$(b).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var a=$(".farbtastic",b);c.wheel=$(".wheel",b).get(0);c.radius=84;c.square=100;c.width=194;if(navigator.appVersion.match(/MSIE [0-6]\./)){$("*",a).each(function(){if(this.currentStyle.backgroundImage!="none"){var e=this.currentStyle.backgroundImage;e=this.currentStyle.backgroundImage.substring(5,e.length-2);$(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+e+"')"})}})}c.linkTo=function(e){if(typeof c.callback=="object"){$(c.callback).unbind("keyup",c.updateValue)}c.color=null;if(typeof e=="function"){c.callback=e}else{if(typeof e=="object"||typeof e=="string"){c.callback=$(e);c.callback.bind("keyup",c.updateValue);if(c.callback.get(0).value){c.setColor(c.callback.get(0).value)}}}return this};c.updateValue=function(e){if(this.value&&this.value!=c.color){c.setColor(this.value)}};c.setColor=function(e){var f=c.unpack(e);if(c.color!=e&&f){c.color=e;c.rgb=f;c.hsl=c.RGBToHSL(c.rgb);c.updateDisplay()}return this};c.setHSL=function(e){c.hsl=e;c.rgb=c.HSLToRGB(e);c.color=c.pack(c.rgb);c.updateDisplay();return this};c.widgetCoords=function(f){var k,l;var h=f.target||f.srcElement;var j=c.wheel;if(typeof f.offsetX!="undefined"){var m={x:f.offsetX,y:f.offsetY};var i=h;while(i){i.mouseX=m.x;i.mouseY=m.y;m.x+=i.offsetLeft;m.y+=i.offsetTop;i=i.offsetParent}var i=j;var g={x:0,y:0};while(i){if(typeof i.mouseX!="undefined"){k=i.mouseX-g.x;l=i.mouseY-g.y;break}g.x+=i.offsetLeft;g.y+=i.offsetTop;i=i.offsetParent}i=h;while(i){i.mouseX=undefined;i.mouseY=undefined;i=i.offsetParent}}else{var m=c.absolutePosition(j);k=(f.pageX||0*(f.clientX+$("html").get(0).scrollLeft))-m.x;l=(f.pageY||0*(f.clientY+$("html").get(0).scrollTop))-m.y}return{x:k-c.width/2,y:l-c.width/2}};c.mousedown=function(e){if(!document.dragging){$(document).bind("mousemove",c.mousemove).bind("mouseup",c.mouseup);document.dragging=true}var f=c.widgetCoords(e);c.circleDrag=Math.max(Math.abs(f.x),Math.abs(f.y))*2>c.square;c.mousemove(e);return false};c.mousemove=function(e){var h=c.widgetCoords(e);if(c.circleDrag){var f=Math.atan2(h.x,-h.y)/6.28;if(f<0){f+=1}c.setHSL([f,c.hsl[1],c.hsl[2]])}else{var i=Math.max(0,Math.min(1,-(h.x/c.square)+0.5));var g=Math.max(0,Math.min(1,-(h.y/c.square)+0.5));c.setHSL([c.hsl[0],i,g])}return false};c.mouseup=function(){$(document).unbind("mousemove",c.mousemove);$(document).unbind("mouseup",c.mouseup);document.dragging=false};c.updateDisplay=function(){var e=c.hsl[0]*6.28;$(".h-marker",a).css({left:Math.round(Math.sin(e)*c.radius+c.width/2)+"px",top:Math.round(-Math.cos(e)*c.radius+c.width/2)+"px"});$(".sl-marker",a).css({left:Math.round(c.square*(0.5-c.hsl[1])+c.width/2)+"px",top:Math.round(c.square*(0.5-c.hsl[2])+c.width/2)+"px"});$(".color",a).css("backgroundColor",c.pack(c.HSLToRGB([c.hsl[0],1,0.5])));if(typeof c.callback=="object"){$(c.callback).css({backgroundColor:c.color,color:c.hsl[2]>0.5?"#000":"#fff"});$(c.callback).each(function(){if(this.value&&this.value!=c.color){this.value=c.color}})}else{if(typeof c.callback=="function"){c.callback.call(c,c.color)}}};c.absolutePosition=function(f){var g={x:f.offsetLeft,y:f.offsetTop};if(f.offsetParent){var e=c.absolutePosition(f.offsetParent);g.x+=e.x;g.y+=e.y}return g};c.pack=function(h){var i=Math.round(h[0]*255);var f=Math.round(h[1]*255);var e=Math.round(h[2]*255);return"#"+(i<16?"0":"")+i.toString(16)+(f<16?"0":"")+f.toString(16)+(e<16?"0":"")+e.toString(16)};c.unpack=function(e){if(e.length==7){return[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255]}else{if(e.length==4){return[parseInt("0x"+e.substring(1,2))/15,parseInt("0x"+e.substring(2,3))/15,parseInt("0x"+e.substring(3,4))/15]}}};c.HSLToRGB=function(n){var j,p,f,k,e;var m=n[0],i=n[1],o=n[2];p=(o<=0.5)?o*(i+1):o+i-o*i;j=o*2-p;return[this.hueToRGB(j,p,m+0.33333),this.hueToRGB(j,p,m),this.hueToRGB(j,p,m-0.33333)]};c.hueToRGB=function(g,f,e){e=(e<0)?e+1:((e>1)?e-1:e);if(e*6<1){return g+(f-g)*e*6}if(e*2<1){return f}if(e*3<2){return g+(f-g)*(0.66666-e)*6}return g};c.RGBToHSL=function(o){var i,n,k,p,j,q;var f=o[0],m=o[1],e=o[2];i=Math.min(f,Math.min(m,e));n=Math.max(f,Math.max(m,e));k=n-i;q=(i+n)/2;j=0;if(q>0&&q<1){j=k/(q<0.5?(2*q):(2-2*q))}p=0;if(k>0){if(n==f&&n!=m){p+=(m-e)/k}if(n==m&&n!=e){p+=(2+(e-f)/k)}if(n==e&&n!=f){p+=(4+(f-m)/k)}p/=6}return[p,j,q]};$("*",a).mousedown(c.mousedown);c.setColor("#000000");if(d){c.linkTo(d)}};